# TeamSpirit Quick Punch

TeamSpiritの打刻をワンクリックで行えるChrome拡張機能です。

## 機能

- **ログイン機能**: 拡張機能から直接Salesforceにログイン（認証情報の保存可能）
- **バックグラウンド打刻**: TeamSpiritを開かずに出勤・退勤打刻
- **勤務場所の選択**: リモート、オフィス、直行→オフィス、オフィス→直帰、直行直帰
- **時間表示**: 現在時刻、出勤時刻、勤務時間、目標退勤時刻をリアルタイム表示
- **月間サマリー（折りたたみ式）**:
  - 所定労働時間、総労働時間、過不足時間を表示
  - 今日の勤務時間を加味してリアルタイム更新
  - 残り勤務日数と一日当たり必要勤務時間を自動計算
- **状態表示**: 出勤中/未出勤の状態を自動検出
- **ボタン制御**: 状態に応じて出勤/退勤ボタンを自動で無効化

## インストール方法

1. このリポジトリをクローンまたはダウンロード
2. Chromeで `chrome://extensions/` を開く
3. 右上の「デベロッパーモード」をオンにする
4. 「パッケージ化されていない拡張機能を読み込む」をクリック
5. ダウンロードしたフォルダを選択

## 使い方

### 初回ログイン
1. Chrome右上の拡張機能アイコンをクリック
2. メールアドレスとパスワードを入力
3. 「ログイン情報を保存」にチェックを入れてログイン

### 打刻
1. 拡張機能アイコンをクリック
2. 勤務場所を選択
3. 「出勤」または「退勤」ボタンをクリック
4. バックグラウンドで自動的にTeamSpiritが操作されます

## 特徴

- **TeamSpiritを開く必要なし**: バックグラウンドで自動的にタブを開いて打刻
- **高速ログイン**: 保存された認証情報で素早くログイン
- **自動タブ管理**: 打刻後は自動的にタブを閉じる

## ファイル構成

```
teamspirit-extension/
├── manifest.json      # 拡張機能の設定
├── popup.html         # ポップアップUI
├── popup.css          # ポップアップのスタイル
├── popup.js           # ポップアップのロジック
├── content.js         # TeamSpiritページ操作スクリプト
├── background.js      # バックグラウンドサービス
└── icons/             # アイコン画像
    ├── icon16.png
    ├── icon48.png
    └── icon128.png
```

## 注意事項

- メールアドレスのみローカルに保存されます
- パスワードはブラウザセッション中のみ保持（ブラウザを閉じると消去）
- Chromeのパスワードマネージャーによる自動入力に対応
- 2要素認証(2FA)には対応していません
