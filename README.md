# TeamSpirit Assistant

TeamSpiritの打刻とホーム画面での勤怠情報表示を行うChrome拡張機能です。

## 機能

### ポップアップ打刻
- **ログイン機能**: 拡張機能から直接Salesforceにログイン（メールアドレスの保存可能）
- **バックグラウンド打刻**: TeamSpiritを開かずに出勤・退勤打刻
- **勤務場所の選択**: リモート、オフィス、直行→オフィス、オフィス→直帰、直行直帰

### ホーム画面表示
打刻エリアの横に勤怠情報パネルを自動表示：

```
┌─────────────────┐  ┌──────────────────────────────────────────┐
│   打刻エリア     │  │  勤怠情報    時刻           月間サマリー   │
│                 │  │  状態:出勤中  現在 12:34:56  所定: 152:00  │
│  2026/01/15     │  │              出勤 09:00     総労働: 80:00 │
│     12:34       │  │              勤務 03:34:56  過不足:-72:00 │
│                 │  │              目標 17:00     残り: 11日    │
│ [出勤] [退勤]   │  │                            必要: 6:33    │
└─────────────────┘  └──────────────────────────────────────────┘
```

### 時間表示・サマリー
- **リアルタイム更新**: 現在時刻、勤務時間、総労働時間、過不足時間
- **月間サマリー**: 所定労働時間、総労働時間、過不足時間
- **自動計算**: 残り勤務日数、一日当たり必要勤務時間、目標退勤時刻

## インストール方法

1. このリポジトリをクローンまたはダウンロード
2. Chromeで `chrome://extensions/` を開く
3. 右上の「デベロッパーモード」をオンにする
4. 「パッケージ化されていない拡張機能を読み込む」をクリック
5. ダウンロードしたフォルダを選択

## 使い方

### 初回ログイン
1. Chrome右上の拡張機能アイコンをクリック
2. メールアドレスとパスワードを入力
3. 「メールアドレスを保存」にチェックを入れてログイン

### 打刻
1. 拡張機能アイコンをクリック
2. 勤務場所を選択
3. 「出勤」または「退勤」ボタンをクリック

### ホーム画面表示
- TeamSpiritのホーム画面を開くと自動的に勤怠情報パネルが表示されます
- 情報は1秒ごとにリアルタイム更新されます

## ファイル構成

```
teamspirit-assistant/
├── manifest.json        # 拡張機能の設定
├── popup.html           # ポップアップUI
├── popup.css            # ポップアップのスタイル
├── popup.js             # ポップアップのロジック
├── content.js           # ページ操作・パネル表示スクリプト
├── content-styles.css   # パネル表示用スタイル
├── background.js        # バックグラウンドサービス・データ取得
└── icons/               # アイコン画像
    ├── icon16.png
    ├── icon48.png
    └── icon128.png
```

## 注意事項

- メールアドレスはローカルに永続保存されます（チェックボックスがオンの場合）
- パスワードはブラウザセッション中のみ保持（ブラウザを閉じると消去）
- 2要素認証(2FA)には対応していません
- ホーム画面表示はTeamSpiritのページ構造に依存しています
